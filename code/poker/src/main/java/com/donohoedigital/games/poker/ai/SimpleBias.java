/*
 * =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
 * DD Poker - Source Code
 * Copyright (c) 2003-2025 Doug Donohoe
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * For the full License text, please see the LICENSE.txt file
 * in the root directory of this project.
 * 
 * The "DD Poker" and "Donohoe Digital" names and logos, as well as any images, 
 * graphics, text, and documentation found in this repository (including but not
 * limited to written documentation, website content, and marketing materials) 
 * are licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 
 * 4.0 International License (CC BY-NC-ND 4.0). You may not use these assets 
 * without explicit written permission for any uses not covered by this License.
 * For the full License text, please see the LICENSE-CREATIVE-COMMONS.txt file
 * in the root directory of this project.
 * 
 * For inquiries regarding commercial licensing of this source code or 
 * the use of names, logos, images, text, or other assets, please contact 
 * doug [at] donohoe [dot] info.
 * =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
 */
package com.donohoedigital.games.poker.ai;

import com.donohoedigital.games.poker.engine.*;

public class SimpleBias
{
    static final short[][][] simpleBias_ =
        new short[][][]
        {
            {
                {1000, 159,  81,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1},
                {   1, 841,  67,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1},
                {   1,   1, 500,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1},
                {   1,   1,   1, 212,   1,   1,   1,   1,   1,   1,   1,   1,   1},
                {   1,   1,   1,   1,  67,   1,   1,   1,   1,   1,   1,   1,   1},
                {   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1},
                {   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1},
                {   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1},
                {   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1},
                {   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1},
                {   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1},
                {   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1},
                {   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1}
            },
            { // 10%
                {1000, 945, 885, 816, 726, 540, 500, 460, 382, 460, 421, 382, 345},
                { 788,1000, 841, 758, 692, 500, 382, 345, 309, 274, 242, 212, 184},
                { 655, 618,1000, 726, 655, 460, 345, 242, 212, 184, 159, 136, 136},
                { 540, 500, 460,1000, 618, 460, 345, 212, 136, 136, 115,  97,  97},
                { 460, 421, 382, 382, 841, 460, 345, 212, 159,  97,  81,  81,  67},
                { 242, 212, 184, 184, 212, 655, 309, 212, 159,  97,   1,   1,   1},
                { 212, 115,  97,  97, 115, 115, 500, 242, 184, 115,  67,   1,   1},
                { 159,  97,   1,   1,   1,  67,  67, 382, 184, 136,  81,   1,   1},
                { 115,  81,   1,   1,   1,   1,   1,   1, 274, 159,  97,  67,   1},
                { 159,  67,   1,   1,   1,   1,   1,   1,   1, 184, 136,  97,   1},
                { 136,   1,   1,   1,   1,   1,   1,   1,   1,   1, 159,  81,   1},
                { 115,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1, 115,   1},
                {  97,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1, 115}
            },
            { // 20%
                {1000,1000,1000, 919, 885, 726, 655, 579, 540, 579, 540, 540, 500},
                { 919,1000, 945, 903, 816, 655, 540, 500, 460, 421, 382, 382, 345},
                { 816, 758,1000, 841, 788, 618, 500, 382, 345, 309, 309, 274, 242},
                { 691, 655, 618,1000, 788, 618, 500, 382, 274, 242, 212, 212, 184},
                { 618, 579, 540, 500, 945, 618, 500, 382, 274, 184, 184, 159, 159},
                { 421, 382, 345, 345, 345, 816, 500, 382, 274, 212, 136, 115, 115},
                { 345, 242, 212, 212, 242, 212, 655, 382, 309, 212, 159,  97,  97},
                { 309, 212, 136, 115, 136, 136, 159, 500, 345, 242, 184, 115,  81},
                { 242, 159,  97,  67,  81,  81,  97, 115, 460, 274, 212, 136,  97},
                { 274, 136,  81,  67,   1,   1,   1,  67,  81, 345, 242, 184, 136},
                { 242, 115,  81,   1,   1,   1,   1,   1,   1,  67, 274, 159, 115},
                { 212,  97,  67,   1,   1,   1,   1,   1,   1,   1,   1, 242,  97},
                { 184,  97,   1,   1,   1,   1,   1,   1,   1,   1,   1,   1, 212}
            },
            { // 30%
                {1000,1000,1000,1000, 945, 841, 816, 758, 692, 758, 726, 692, 655},
                {1000,1000,1000,1000, 933, 816, 692, 655, 618, 579, 540, 500, 500},
                { 919, 903,1000, 945, 919, 788, 655, 540, 500, 500, 460, 421, 421},
                { 841, 816, 758,1000, 903, 758, 655, 500, 421, 421, 382, 345, 345},
                { 758, 726, 691, 691,1000, 788, 655, 540, 460, 345, 345, 309, 274},
                { 579, 540, 500, 500, 500, 919, 618, 540, 460, 345, 274, 242, 212},
                { 500, 421, 382, 382, 382, 382, 816, 540, 500, 382, 274, 212, 184},
                { 460, 345, 242, 242, 274, 274, 274, 692, 500, 421, 309, 242, 184},
                { 421, 309, 212, 159, 159, 184, 212, 212, 579, 460, 382, 274, 212},
                { 460, 274, 184, 136, 115, 115, 136, 159, 184, 500, 421, 345, 242},
                { 421, 242, 159, 115,  97,  67,  81,  97, 136, 159, 460, 309, 212},
                { 382, 212, 136, 115,  81,   1,   1,   1,  81, 115,  81, 421, 184},
                { 345, 184, 136,  97,  67,   1,   1,   1,   1,  67,   1,   1, 382}
            },
            { // 40%
                {1000,1000,1000,1000,1000, 919, 885, 841, 788, 841, 816, 788, 758},
                {1000,1000,1000,1000,1000, 903, 788, 758, 726, 692, 655, 618, 579},
                {1000, 945,1000,1000,1000, 885, 758, 655, 618, 579, 540, 500, 500},
                { 919, 903, 841,1000, 945, 841, 758, 618, 500, 500, 500, 460, 460},
                { 841, 816, 788, 788,1000, 841, 758, 655, 540, 460, 421, 421, 382},
                { 691, 618, 579, 579, 618,1000, 726, 655, 540, 460, 345, 345, 309},
                { 618, 500, 500, 500, 500, 500, 903, 655, 579, 500, 382, 309, 274},
                { 540, 460, 345, 345, 345, 382, 382, 788, 579, 500, 421, 345, 274},
                { 500, 421, 309, 242, 242, 274, 309, 309, 692, 540, 500, 382, 309},
                { 540, 382, 274, 212, 159, 184, 212, 242, 274, 618, 500, 460, 345},
                { 500, 345, 242, 184, 159, 115, 136, 159, 212, 242, 540, 421, 309},
                { 500, 309, 212, 184, 136,  97,  81,  97, 136, 184, 136, 500, 274},
                { 460, 274, 212, 159, 115,  97,  81,  67,  81, 115,  97,  81, 500}
            },
            { // 50%
                {1000,1000,1000,1000,1000,1000, 933, 919, 885, 919, 903, 885, 841},
                {1000,1000,1000,1000,1000, 933, 885, 816, 788, 758, 758, 726, 692},
                {1000,1000,1000,1000,1000, 919, 841, 726, 692, 692, 655, 618, 618},
                {1000, 933, 919,1000,1000, 919, 816, 726, 618, 579, 579, 540, 500},
                { 919, 903, 885, 885,1000, 919, 841, 726, 618, 540, 500, 500, 500},
                { 758, 726, 691, 691, 726,1000, 816, 726, 655, 540, 460, 460, 421},
                { 691, 579, 540, 540, 579, 540, 933, 758, 655, 579, 500, 421, 382},
                { 655, 540, 460, 460, 460, 460, 500, 885, 692, 618, 500, 421, 345},
                { 579, 500, 421, 309, 345, 345, 382, 421, 788, 655, 540, 500, 382},
                { 655, 460, 345, 309, 242, 242, 274, 345, 382, 692, 618, 500, 460},
                { 618, 460, 345, 274, 212, 184, 212, 242, 274, 345, 655, 500, 421},
                { 579, 421, 309, 242, 212, 159, 136, 159, 184, 242, 212, 579, 382},
                { 500, 382, 274, 212, 184, 136, 115, 115, 136, 184, 159, 136, 540}
            },
            { // 60%
                {1000,1000,1000,1000,1000,1000,1000, 945, 919, 945, 933, 919, 903},
                {1000,1000,1000,1000,1000,1000, 919, 903, 885, 841, 816, 788, 758},
                {1000,1000,1000,1000,1000,1000, 903, 816, 788, 758, 726, 692, 692},
                {1000,1000, 945,1000,1000, 945, 903, 788, 692, 692, 655, 618, 618},
                { 945, 933, 919, 919,1000,1000, 903, 816, 726, 618, 618, 579, 540},
                { 841, 816, 788, 788, 788,1000, 855, 816, 726, 618, 540, 500, 500},
                { 788, 691, 655, 655, 655, 655,1000, 816, 758, 655, 540, 500, 460},
                { 726, 618, 500, 500, 540, 540, 540, 919, 758, 692, 618, 500, 460},
                { 691, 579, 500, 421, 421, 460, 500, 500, 841, 726, 655, 540, 500},
                { 726, 540, 460, 382, 345, 345, 382, 421, 460, 788, 692, 618, 500},
                { 691, 500, 421, 345, 309, 242, 274, 309, 382, 421, 726, 579, 500},
                { 655, 500, 382, 345, 274, 212, 184, 212, 274, 345, 274, 692, 460},
                { 618, 460, 382, 309, 242, 212, 184, 159, 184, 242, 212, 184, 655}
            },
            { // 70%
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000, 945, 933},
                {1000,1000,1000,1000,1000,1000, 945, 933, 919, 903, 885, 841, 841},
                {1000,1000,1000,1000,1000,1000, 933, 885, 841, 816, 788, 788, 758},
                {1000,1000,1000,1000,1000,1000, 933, 885, 788, 758, 726, 726, 692},
                {1000,1000, 945, 945,1000,1000, 933, 885, 788, 692, 692, 655, 618},
                { 903, 885, 841, 841, 841,1000, 933, 885, 788, 692, 618, 579, 579},
                { 841, 758, 726, 726, 726, 726,1000, 885, 816, 726, 655, 540, 540},
                { 788, 691, 579, 579, 618, 618, 618, 945, 816, 758, 692, 579, 500},
                { 758, 655, 540, 500, 500, 500, 540, 579, 903, 788, 726, 618, 540},
                { 788, 618, 500, 460, 421, 421, 460, 500, 500, 841, 758, 692, 579},
                { 758, 579, 500, 421, 382, 309, 345, 382, 460, 500, 788, 655, 579},
                { 726, 540, 500, 421, 345, 309, 274, 274, 345, 421, 382, 758, 540},
                { 691, 500, 460, 382, 309, 274, 242, 212, 242, 309, 274, 242, 726}
            },
            { // 80%
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000},
                {1000,1000,1000,1000,1000,1000,1000,1000, 945, 933, 933, 919, 903},
                {1000,1000,1000,1000,1000,1000,1000, 933, 919, 903, 885, 841, 841},
                {1000,1000,1000,1000,1000,1000,1000, 919, 841, 841, 816, 788, 788},
                {1000,1000,1000,1000,1000,1000,1000, 919, 841, 788, 758, 758, 726},
                { 933, 919, 903, 903, 919,1000,1000, 919, 885, 788, 692, 692, 655},
                { 919, 816, 788, 788, 816, 816,1000, 933, 903, 816, 726, 655, 618},
                { 885, 788, 691, 691, 691, 691, 726,1000, 903, 841, 758, 692, 579},
                { 816, 758, 655, 579, 579, 618, 618, 655, 945, 885, 788, 726, 618},
                { 885, 726, 618, 540, 500, 500, 540, 579, 618, 903, 841, 788, 692},
                { 841, 691, 579, 500, 500, 421, 460, 500, 500, 579, 885, 758, 655},
                { 816, 655, 540, 500, 460, 382, 345, 382, 460, 500, 460, 816, 618},
                { 788, 618, 500, 460, 421, 382, 309, 309, 345, 421, 382, 345, 816}
            },
            { // 90%
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000},
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000, 945, 945},
                {1000,1000,1000,1000,1000,1000,1000,1000, 945, 933, 919, 919, 903},
                {1000,1000,1000,1000,1000,1000,1000,1000, 919, 903, 885, 885, 841},
                {1000,1000,1000,1000,1000,1000,1000,1000, 919, 841, 841, 816, 788},
                {1000,1000, 945, 945, 945,1000,1000,1000, 919, 841, 788, 758, 758},
                { 945, 903, 885, 885, 885, 885,1000,1000, 933, 885, 816, 726, 726},
                { 919, 841, 758, 758, 788, 788, 788,1000, 933, 903, 841, 758, 692},
                { 903, 816, 726, 655, 691, 691, 726, 758,1000, 919, 885, 788, 726},
                { 919, 788, 691, 618, 579, 579, 618, 655, 691, 945, 903, 841, 758},
                { 903, 758, 655, 579, 540, 500, 500, 540, 618, 655, 919, 816, 758},
                { 885, 726, 655, 579, 500, 500, 460, 460, 500, 579, 540, 903, 726},
                { 841, 691, 618, 540, 500, 460, 421, 382, 421, 500, 460, 421, 885}
            },
            { // 100%
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000},
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000},
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000},
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000},
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000},
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000},
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000},
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000},
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000},
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000},
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000},
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000},
                {1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000}
            }
        };

    public static float getBiasValue(int tableIndex, Hand hand)
    {
        return getBiasValue(tableIndex, hand.getCard(0), hand.getCard(1));
    }

    public static float getBiasValue(int tableIndex, int cardIndex1, int cardIndex2)
    {
        return getBiasValue(tableIndex, Card.getCard(cardIndex1), Card.getCard(cardIndex2));
    }

    public static float getBiasValue(int tableIndex, Card card1, Card card2)
    {
        int x;
        int y;

        if (card1.getRank() == card2.getRank())
        {
            x = Card.ACE-card1.getRank();
            y =Card.ACE - card2.getRank();
        }
        else if (card1.getSuit() == card2.getSuit())
        {
            if (card1.getRank() > card2.getRank())
            {
                x = Card.ACE - card1.getRank();
                y = Card.ACE - card2.getRank();
            }
            else
            {
                x = Card.ACE - card2.getRank();
                y = Card.ACE - card1.getRank();
            }
        }
        else
        {
            if (card1.getRank() < card2.getRank())
            {
                x = Card.ACE - card1.getRank();
                y = Card.ACE - card2.getRank();
            } else
            {
                x = Card.ACE - card2.getRank();
                y = Card.ACE - card1.getRank();
            }
        }

        return simpleBias_[tableIndex][x][y] / 1000.0f;
    }
}
